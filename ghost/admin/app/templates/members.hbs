<section class="gh-canvas">
    <GhCanvasHeader class="gh-canvas-header">
        <h2 class="gh-canvas-title" data-test-screen-title>Members</h2>
        <div>
            <GhTextInput placeholder="Search members..." @value={{this.searchText}}
                @input={{action (mut this.searchText) value="target.value"}} />
        </div>
    </GhCanvasHeader>
    <div style="width:100%">
        {{ember-chart type='line' options=chartOptions.options data=chartData.data height=70}}
    </div>
    <section class="view-container h-100">

        <div class="flex justify-between items-center">
            <h2 class="f-small fw5 midlightgrey ttu">
                {{#if this.searchText}}
                    Search result
                {{else}}
                    All members
                    {{#if this.fetchMembers.lastSuccessful}}
                        ({{this.meta.pagination.total}})
                    {{else}}
                        (Loading...)
                    {{/if}}
                {{/if}}
            </h2>
        </div>

            <section class="content-list">
                <ol class="tags-list gh-list">
                    {{#if filteredMembers}}
                        <li class="gh-list-row header">
                            <div class="gh-list-header gh-list-cellwidth-1-2">Member Email</div>
                            <div class="gh-list-header">Member Name</div>
                            <div class="gh-list-header">Subscribed on</div>
                            <div class="gh-list-header"></div>
                        </li>
                        {{#vertical-collection
                                    items=filteredMembers
                                    key="id"
                                    containerSelector=".gh-main"
                                    estimateHeight=60
                                    bufferSize=20
                                    as |member|
                                }}
                        {{gh-members-list-item
                                        member=member
                                        data-test-member-id=member.id
                                    }}
                        {{/vertical-collection}}
                    {{else}}
                        {{#if this.fetchMembers.isRunning}}
                            <div class="gh-content">
                                <GhLoadingSpinner />
                            </div>
                        {{else}}
                            <li class="no-posts-box">
                                <div class="no-posts">
                                    {{svg-jar "tags-placeholder" class="gh-tags-placeholder"}}
                                    <h3>No members found!</h3>
                                </div>
                            </li>
                        {{/if}}
                    {{/if}}
                </ol>
            </section>
    </section>
</section>