<header class="view-header">
    {{#gh-view-title openMobileMenu="openMobileMenu"}}<span style="padding-left:1px">{{#link-to "settings.apps.index"}}Apps{{/link-to}} <i class="icon-arrow-right" style="display:inline"></i> Slack</span>{{/gh-view-title}}
    <section class="view-actions">
        {{slack.isActive}}
        {{#if slack.isActive}}
            {{#link-to "settings.apps.slack" class="btn btn-red" title="Disable" click=(action "toggleActiveProperty")}}Disable{{/link-to}}
        {{else}}
            {{#link-to "settings.apps.slack" class="btn btn-green" title="Activate" click=(action "toggleActiveProperty")}}Activate{{/link-to}}
        {{/if}}
    </section>

</header>
<section class="view-container">
    <section class="view-content">
        <section class="slack-grid">
            <div class="slack-cell">
                <img class="slack-icon" style="background-image:url({{gh-path 'admin' '/img/slackicon.png'}})"/>
            </div>
            <div class="slack-cell">
                <h3>Slack</h3>
                <p>A team communication tool</p>
            </div>
        </section>
        <section class="slack-subtitle">
            <p>The Slack app for Ghost allows you to automatically send newly published posts to a channel in your Slack team.</p>
        </section>

        <form class="slack-config-form" novalidate="novalidate">
            {{#gh-form-group errors=model.errors hasValidated=model.hasValidated property="url"}}
                <label for="url">Authentification</label>
                {{one-way-input slack.url class="gh-input" update=(action "updateProperty" "url") focusOut=(action "saveProperty" "url")}}
                {{slack.url}}
                {{#unless model.errors.url}}
                    <p>Your slack webhook URL or whatever</p>
                {{/unless}}
                {{gh-error-message errors=model.errors property="url"}}
            {{/gh-form-group}}

            {{#gh-form-group errors=model.errors hasValidated=model.hasValidated property="channel"}}
                <label for="channel">Channel</label>
                {{one-way-input slack.channel class="gh-input" update=(action "updateProperty" "channel") focusOut=(action "saveProperty" "channel")}}
                {{slack.channel}}
                {{#unless model.errors.channel}}
                    <p>Specify the channel name to send message to. Example: #general. Can be a public channel, private group or DM channel. Use your own @username to send to yourself via the slackbot channel, or someone else's @username to send to the DM between the slackbot and that user.</p>
                {{/unless}}
                {{gh-error-message errors=model.errors property="channel"}}
            {{/gh-form-group}}

            {{#gh-form-group errors=model.errors hasValidated=model.hasValidated property="username"}}
                <label for="username">Username</label>
                {{one-way-input slack.username class="gh-input" update=(action "updateProperty" "username") focusOut=(action "saveProperty" "username")}}
                {{slack.username}}
                {{#unless model.errors.username}}
                    <p>What name should messages be posted under</p>
                {{/unless}}
                {{gh-error-message errors=model.errors property="username"}}
            {{/gh-form-group}}

            {{#gh-spin-button id="sendTestNotification" class="btn btn-grey" action="sendTestNotification"}}Send Test Notification{{/gh-spin-button}}
        </form>
    </section>
</section>
